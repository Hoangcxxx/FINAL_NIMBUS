<section id="page-header" class="text-center py-4 bg-light">
    <h2 class="text-uppercase font-weight-bold">#giỏ_hàng_yêu_thương</h2>
    <p class="lead text-muted">ĐỂ LẠI MỘT THÔNG ĐIỆP, Chúng tôi rất vui được nghe từ bạn!</p>
</section>


<section id="cart" class="section-p1">
    <h2 class="cart-title text-center">Giỏ hàng của bạn</h2>
    <table width="100%">
        <thead>
            <tr>
                <td>Xóa</td>
                <td>Hình ảnh</td>
                <td>Thông tin sản phẩm</td>
                <td>Giá tiền</td>
                <td>Số lượng</td>
                <td>Thành Tiền</td>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="item in cart track by item.idspct">
                <td>
                    <button type="button" class="btn btn-link" aria-label="Xóa sản phẩm" ng-click="removeFromCart(item.idspct)">
                        <i class="fa-regular fa-circle-xmark"></i>
                    </button>
                </td>
                <td><img ng-src="{{item.urlAnh}}" alt="Hình sản phẩm" class="cart-item-image" style="max-width: 100px; max-height: 100px;"></td>
                <td>
                    <strong>
                        <a href="#!san_pham_chi_tiet/{{item.idSanPhamChiTiet}}" class="text-decoration-none">{{item.tenSanPham}}</a>
                    </strong><br>
                    <small>Màu sắc: {{item.tenmausac}}</small><br>
                    <small>Chất liệu: {{item.tenchatlieu}}</small><br>
                    <small>Kích thước: {{item.tenkichthuoc}}</small>
                </td>
                <td class="text-center">{{item.giaTien | currency}}</td>
                <td class="text-center">
                    <input type="number" ng-model="item.soLuong" min="1" class="form-control form-control-sm cart-quantity-input" ng-blur="updateCart(item)" aria-label="Số lượng sản phẩm">
                </td>
                <td class="text-center">{{item.soLuong * item.giaTien | currency}}</td>
            </tr>
        </tbody>
    </table>
</section>

<section id="cart-add" class="section-p1 mt-4">
    <div class="coupon">
        <h3>Áp dụng mã giảm giá</h3>
        <div>
            <input type="text" placeholder="Nhập mã giảm giá của bạn">
            <button class="normal">Áp dụng</button>
        </div>
    </div>

    <div class="subtotal">
        <h4>Tổng cộng giỏ hàng</h4>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td>Tổng phụ</td>
                    <td>{{getTotal() | currency}}</td>
                </tr>
                <tr>
                    <td>Phí vận chuyển</td>
                    <td>Miễn phí</td>
                </tr>
                <tr class="font-weight-bold">
                    <td><strong>Tổng cộng</strong></td>
                    <td><strong>{{getTotal() | currency}}</strong></td>
                </tr>
            </tbody>
        </table>
        <div class="text-center mt-3">
            <button type="button" class="btn btn-success" ng-click="checkout()">
                <i class="fas fa-check me-2"></i>Thanh toán
            </button>
        </div>        
    </div>
</section>
